import{c as B,r as s,j as t,F as E,a as e,d as O,S as q,L as d,b as K}from"./index-720e9d44.js";import"https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";import"https://www.gstatic.com/firebasejs/9.22.0/firebase-analytics.js";function L({basket:c,products:u,dispatch:m}){const[i,C]=s.useState(""),[r,v]=s.useState(""),[p,N]=s.useState(!0),[g,y]=s.useState(!0);s.useRef(null);const[T,A]=s.useState("standart"),b=n=>{A(n.target.value)},k=c.reduce((n,a)=>{const l=u==null?void 0:u.find(S=>S.id===a.id);return n+(l==null?void 0:l.price)*a.count},0);function f(n){n.target.closest(".nice-select")||(N(!0),y(!0))}s.useEffect(()=>(document.addEventListener("click",f),()=>{document.removeEventListener("click",f)}),[]);function x(n){let a=[...c.filter(l=>l.id!==n)];localStorage.setItem("basket",JSON.stringify(a)),m({type:"SET_BASKET",payload:a})}function w(n){let a=[...c];a[n].count++,localStorage.setItem("basket",JSON.stringify(a)),m({type:"SET_BASKET",payload:a})}function F(n){let a=[...c];a[n].count>1&&(a[n].count--,localStorage.setItem("basket",JSON.stringify(a)),m({type:"SET_BASKET",payload:a}))}function o(n){C(n.target.textContent)}function h(n){v(n.target.textContent)}return t(E,{children:[e(O,{smooth:!0}),e(q,{smooth:!0}),t("div",{className:"d__header",children:[e(d,{to:"/dekor/",children:"ƏSAS SƏHİFƏ"}),e("span",{children:" / "}),e("span",{children:"Səbət"})]}),c.length?t("table",{className:"basketTable container",children:[e("thead",{className:"basketthead",children:t("tr",{children:[e("th",{className:"width-thumbnail"}),e("th",{className:"width-name",children:"MƏHSUL"}),e("th",{className:"width-price",children:"QİYMƏTİ"}),e("th",{className:"width-quantity",children:"SAYI"}),e("th",{className:"width-subtotal",children:"TOTAL"}),e("th",{className:"width-remove"})]})}),e("tbody",{children:c.map((n,a)=>{let l=u.find(S=>S.id===n.id);if(l)return t("tr",{className:"product-table-tr",children:[e("td",{className:"product-thumbnail",children:e("a",{href:"",children:e("img",{src:l==null?void 0:l.image[0],alt:""})})}),e("td",{className:"product-name",children:e("h5",{children:e("a",{href:"",children:l==null?void 0:l.title})})}),e("td",{className:"product-price",children:t("span",{children:[l.price," ₼"]})}),e("td",{className:"cart-quality",children:t("div",{children:[e("button",{onClick:()=>w(a),children:"+"}),e("input",{type:"text",value:n.count}),e("button",{onClick:()=>F(a),children:"-"})]})}),t("td",{className:"product-total",children:[l&&!Number.isInteger(l.price*n.count)?(l.price*n.count).toFixed(2):l.price*n.count,"₼"]}),e("td",{className:"icon-close",children:e("img",{onClick:()=>x(n.id),src:"https://img.icons8.com/tiny-color/16/null/delete-sign.png"})})]},l==null?void 0:l.id)})})]}):e("table",{className:"basketTable container",children:e("thead",{className:"basketthead",children:e("tr",{children:e("th",{children:"SƏBƏTİN BOŞDUR BRO"})})})}),t("div",{className:"container backtoshop",children:[e(d,{to:"/shop",children:"MAĞAZAYA QAYIT"}),e(d,{to:"/favorites",children:"FAVORİLƏRƏ BAX"})]}),c.length?t("div",{className:"basketrow container",children:[t("div",{children:[e("h4",{children:"Göndəriş adresi"}),t("div",{className:"nice-select",onClick:()=>{y(!g),N(!0)},children:[e("span",{children:i||"Azərbaycan"}),e("img",{style:g?{transform:"rotate(0deg)"}:{transform:"rotate(180deg)"},className:"niceseleceimg",src:"https://img.icons8.com/plumpy/24/null/expand-arrow.png"}),t("ul",{className:g?"":"aktif",children:[e("li",{className:i==="Azərbaycan"?"selected":"",onClick:o,children:"Azərbaycan"}),e("li",{className:i==="Türkiyə"?"selected":"",onClick:o,children:"Türkiyə"}),e("li",{className:i==="Suriya"?"selected":"",onClick:o,children:"Suriya"}),e("li",{className:i==="Əfqanıstan"?"selected":"",onClick:o,children:"Əfqanıstan"}),e("li",{className:i==="İran"?"selected":"",onClick:o,children:"İran"})]})]}),t("div",{className:"nice-select",onClick:()=>{y(!0),N(!p)},children:[e("span",{children:r||"Bakı"}),e("img",{style:p?{transform:"rotate(0deg)"}:{transform:"rotate(180deg)"},className:"niceseleceimg",src:"https://img.icons8.com/plumpy/24/null/expand-arrow.png"}),t("ul",{className:p?"":"aktif",children:[e("li",{className:r==="Bakı"?"selected":"",onClick:h,children:"Bakı"}),e("li",{className:r==="İstanbul"?"selected":"",onClick:h,children:"İstanbul"}),e("li",{className:r==="Dəməşq"?"selected":"",onClick:h,children:"Dəməşq"}),e("li",{className:r==="Kabul"?"selected":"",onClick:h,children:"Kabul"}),e("li",{className:r==="Tehran"?"selected":"",onClick:h,children:"Tehran"})]})]}),e("input",{type:"text",placeholder:"Şəhər / Qəsəbə",className:"nice-select teinput"}),e("input",{type:"text",placeholder:"Poçt / Zip",className:"yppsss nice-select teinput"}),e(d,{className:"linkbaskett",to:"/basket",children:"Yenilə"})]}),t("div",{children:[e("h4",{children:"Kupon"}),e("p",{className:"discountBasket",children:"Kuponunuz varsa qeyd edin"}),e("input",{type:"text",placeholder:"Kupon kodu",className:"yppsss nice-select teinput"}),e(d,{className:"linkbasket",to:"/basket",children:"Təstiqlə"})]}),t("div",{children:[t("div",{className:"grand-total-content",children:[t("h5",{children:["Məhsulların dəyəri",t("span",{children:[" ₼ ",(k+1).toFixed(2)]})]}),t("div",{className:"grand-shipping",children:[e("span",{children:"Göndəriş üsulu"}),t("ul",{children:[t("li",{children:[e("input",{checked:!0,type:"radio",name:"shipping",value:"standart",onChange:b}),e("label",{htmlFor:"shipping"}),"Gəmi ilə + 10 ₼"]}),t("li",{children:[e("input",{type:"radio",name:"shipping",value:"magazadan",onChange:b}),e("label",{htmlFor:"shipping"}),"Təyyarə ilə + 150 ₼"]})]})]}),e("div",{className:"shipping-country",children:t("p",{children:["Göndərilən ölkə ",i||"Azərbaycan"]})}),t("div",{className:"grand-totalll",children:["Yekun ödəniş",t("span",{children:["₼",T==="standart"?(k+11).toFixed(2):(k+151).toFixed(2)]})]})]}),e("div",{className:"grand-total-btn",children:e(d,{to:"/not-found",children:"ÖDƏNİŞ ET"})})]})]}):"",e(K,{})]})}const z=c=>c,_=B(z)(L);export{_ as default};
